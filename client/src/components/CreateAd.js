import React, {useRef, useState} from 'react';import {Box, Button, Container, ImageList, TextField, Typography} from "@mui/material";import http from "../plugins/http";import {useNavigate} from "react-router-dom";import Image from "./Image";const CreateAd = () => {    const photo = useRef()    const city = useRef()    const price = useRef()    const description = useRef()    const nav = useNavigate()    const [error, setError] = useState('')    const [photos, setPhotos] = useState([])    async function createAd() {        const ad = {            photos,            city: city.current.value,            price: price.current.value,            description: description.current.value,            time: new Date().getTime()        }        const data = await http.post(ad, 'create')        if (!data.success) return setError(data.message)        if (data.success) nav('/')    }    async function addPhoto() {        const image = {photo: photo.current.value}        const data = await http.post(image, 'check-img')        if (!data.success) return setError(data.message)        if (data.success) {            setPhotos([...photos, image.photo])            setError('')            photo.current.value = ''        }    }    return (        <Container maxWidth="sm" sx={{m: '100px auto', textAlign: 'center'}}>            <div>                <TextField                    margin={'normal'}                    id="outlined-basic"                    label="Photo link"                    variant="outlined"                    fullWidth                    inputRef={photo}                />                <Button onClick={addPhoto} size={'small'} style={{height: 'fit-content'}} variant={'contained'}>Add                    photo</Button>            </div>            <ImageList cols={5} rowHeight={110}>                {photos.map((photo, i) => (                    <Image key={i} photo={photo} photos={photos} index={i} setPhotos={setPhotos}/>                ))}            </ImageList>            <TextField                margin={'normal'}                id="outlined-basic"                label="City"                variant="outlined"                fullWidth                inputRef={city}            />            <TextField                margin={'normal'}                id="outlined-basic"                type={"number"}                label="Price (per night)"                variant="outlined"                fullWidth                inputRef={price}            />            <TextField                margin={'normal'}                minRows={3}                id="outlined-basic"                label="Description"                variant="outlined"                fullWidth                inputRef={description}            />            <Button onClick={createAd} variant={'contained'}>create ad</Button>            <Box margin={4}>                {error.length !== 0 &&                    <Typography variant={'button'}                                sx={{backgroundColor: '#FF7272', m: 2, p: '5px 40px', borderRadius: 10}}>                        {error}                    </Typography>}            </Box>        </Container>    );};export default CreateAd;